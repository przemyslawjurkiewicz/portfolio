{"version":3,"sources":["js/contactForm.js"],"names":["form","document","querySelector","url","toast","submit","post","body","callback","req","XMLHttpRequest","open","setRequestHeader","addEventListener","status","JSON","parse","responseText","Error","statusText","send","stringify","success","innerHTML","disabled","blur","name","focus","value","email","content","error","err","console","log","e","preventDefault","payload","res"],"mappings":";AAAA,IAAMA,EAAOC,SAASC,cAAc,kBAC9BC,EAAM,wEACNC,EAAQH,SAASC,cAAc,mBAC/BG,EAASJ,SAASC,cAAc,oBAEtC,SAASI,EAAKH,EAAKI,EAAMC,GACnBC,IAAAA,EAAM,IAAIC,eACdD,EAAIE,KAAK,OAAQR,GAAK,GACtBM,EAAIG,iBAAiB,eAAgB,oBACrCH,EAAII,iBAAiB,OAAQ,WACvBJ,EAAIK,OAAS,IACfN,EAAS,KAAMO,KAAKC,MAAMP,EAAIQ,eAE9BT,EAAS,IAAIU,MAAM,mBAAqBT,EAAIU,eAGhDV,EAAIW,KAAKL,KAAKM,UAAUd,IAE1B,SAASe,IACPlB,EAAMmB,UAAY,4EAClBlB,EAAOmB,UAAW,EAClBnB,EAAOoB,OACPzB,EAAK0B,KAAKC,QACV3B,EAAK0B,KAAKE,MAAQ,GAClB5B,EAAK6B,MAAMD,MAAQ,GACnB5B,EAAK8B,QAAQF,MAAQ,GAEvB,SAASG,EAAOC,GACd5B,EAAMmB,UAAY,+EAClBlB,EAAOmB,UAAW,EAClBS,QAAQC,IAAIF,GAGdhC,EAAKa,iBAAiB,SAAU,SAAUsB,GACxCA,EAAEC,iBACFhC,EAAMmB,UAAY,cAClBlB,EAAOmB,UAAW,EAEZa,IAAAA,EAAU,CACdX,KAAM1B,EAAK0B,KAAKE,MAChBC,MAAO7B,EAAK6B,MAAMD,MAClBE,QAAS9B,EAAK8B,QAAQF,OAExBtB,EAAKH,EAAKkC,EAAS,SAAUL,EAAKM,GAC5BN,GAAAA,EAAcD,OAAAA,EAAMC,GACxBV","file":"contactForm.b1154cfa.js","sourceRoot":"..\\src","sourcesContent":["const form = document.querySelector('.contact__form')\r\nconst url = 'https://iq8a6387pj.execute-api.us-east-1.amazonaws.com/dev/email/send'\r\nconst toast = document.querySelector('.contact__toast')\r\nconst submit = document.querySelector('.contact__submit')\r\n\r\nfunction post(url, body, callback) {\r\n  var req = new XMLHttpRequest();\r\n  req.open(\"POST\", url, true);\r\n  req.setRequestHeader(\"Content-Type\", \"application/json\");\r\n  req.addEventListener(\"load\", function () {\r\n    if (req.status < 400) {\r\n      callback(null, JSON.parse(req.responseText));\r\n    } else {\r\n      callback(new Error(\"Request failed: \" + req.statusText));\r\n    }\r\n  });\r\n  req.send(JSON.stringify(body));\r\n}\r\nfunction success () {\r\n  toast.innerHTML = 'Dziękuję za wiadomość. Postaram się odpisać najszybciej jak to możliwe :)'\r\n  submit.disabled = false\r\n  submit.blur()\r\n  form.name.focus()\r\n  form.name.value = ''\r\n  form.email.value = ''\r\n  form.content.value = ''\r\n}\r\nfunction error (err) {\r\n  toast.innerHTML = 'Wystąpił błąd przepraszam, postaram się go usunąć. Proszę o kontak na email.'\r\n  submit.disabled = false\r\n  console.log(err)\r\n}\r\n\r\nform.addEventListener('submit', function (e) {\r\n  e.preventDefault()\r\n  toast.innerHTML = 'Wysyłam ...'\r\n  submit.disabled = true\r\n\r\n  const payload = {\r\n    name: form.name.value,\r\n    email: form.email.value,\r\n    content: form.content.value\r\n  }\r\n  post(url, payload, function (err, res) {\r\n    if (err) { return error(err) }\r\n    success()\r\n  })\r\n})"]}